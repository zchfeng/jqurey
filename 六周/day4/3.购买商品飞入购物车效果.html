<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>复制到购物车</title>
    <style>
    ul {
        list-style: none;
        margin: 0;
        padding: 0;
        
    }
    
    .cart-list {
        position: absolute;
        top: 10px;
        right: 10px;
        padding: 10px;
        width: 200px;
        /*height: 400px;*/
        border: 1px solid #ddd;
        /*overflow-y:auto;*/
    }
    
    .cart-list h4 {
        margin: 0;
        padding-bottom: 5px;
        border-bottom: 1px solid #ddd;
    }
    
    .cart-list img {
        width: 60px;
    }

    .cart-list li{position:relative;height:200px;}
    .cart-list .btn-close{position:absolute;top:0;right:0;padding:5px;}
    .cart-list .btn-close:hover{background-color:#f00;color:#fff;}
    
    .goods-list img {
        width: 200px;
    }
    </style>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
</head>
<body>
    <div class="goods-list">
        <h4>产品列表</h4>
        <ul>
            <li><img src="images/g1.jpg">
                <p>
                    <button>添加到购物车</button>
                </p>
                <p>亚瑟士ASICS跑步鞋2015春夏新款运动鞋男款避震跑鞋KAYANO T4H2N-9001 橙色/白色 42</p>
            </li>
            <li><img src="images/g2.jpg">
                <p>
                    <button>添加到购物车</button>
                </p>
                <p>亚瑟士ASICS运动鞋2015春夏新款跑步鞋女鞋稳定跑鞋KAYANO T4H7N-0701 黄色/白色 37.5</p>
            </li>
            <li><img src="images/g3.jpg">
                <p>
                    <button>添加到购物车</button>
                </p>
                <p>亚瑟士ASICS跑步鞋春夏透气稳定女款跑鞋 KAYANO T4N5N-3591 玫红色/黑色 37.5</p>
            </li>
            <li><img src="images/g4.jpg">
                <p>
                    <button>添加到购物车</button>
                </p>
                <p>亚瑟士ASICS高帮运动休闲鞋男鞋运动鞋DOUBLEH54XJ-5050 黑色/黑色 40.5</p>
            </li>
            <li><img src="images/g5.jpg">
                <p>
                    <button>添加到购物车</button>
                </p>
                <p>Onitsuka Tiger运动休闲鞋女COLORADO D4S6N-1850 珊瑚色/淡灰色 37.5</p>
            </li>
        </ul>
    </div>
    <div class="cart-list">
        <h4>购物车列表</h4>
        <ul>
        </ul>
    </div>
</body>
</html>
<script>
    $(function () {
        $(".goods-list button").on("click",function () {
            console.log(111);
          var cloneli= $(this).parents("li").clone(true)
            cloneli.find("p:first").remove()
            var close=$("<span>X</span>")
            close.addClass("btn-close")
            cloneli.appendTo(close)
            var cloneimg=$(this).parents("li").find("img").clone(true)
            var position=$(this).parents("li").offset()
            cloneimg.css("position","absolute").css(position)
            cloneimg.appendTo($(this).parents("li"))
            var target=$(".cart-list").offset()
            target.top+=$(".cart-list").height()
            target.width=0
            target.height=0
            console.log($(".cart-list").offset());
            cloneimg.animate(target,1000,function () {
                cloneimg.remove()
                cloneli.appendTo(".cart-list ul")
            })
        })
    })
</script>
